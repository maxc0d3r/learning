(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"+bfl":function(t,e,s){"use strict";s.d(e,"a",function(){return r});var o=s("AytR"),a=s("tk/3"),i=s("fXoL");let r=(()=>{class t{constructor(t,e){this.http=t,this.path=o.a.apiURL}getPricing(t){return this.http.get(this.path+`/CountryRates/${t}`)}getCurrencies(){return this.http.get(this.path+"/getCurrencies")}getTestimonials(){return this.http.get(this.path+"/Testimonials")}addUser(t){return this.http.post(this.path+"/AddLearner",t)}verifyGoogle(t){return this.http.post(this.path+"/verifyGoogleTokenAndLogin",t)}verifyFb(t){return this.http.post(this.path+"/verifyFaceBookTokenAndLogin",t)}emailLogin(t,e){let s=(new a.e).set("email",t).set("pwd",e);return this.http.get(this.path+"/login",{params:s})}forgotPassword(t){return this.http.post(this.path+"/forgotPassword",t)}setPassword(t){return this.http.post(this.path+"/SetPassword",t)}addItem(t){return this.http.post(this.path+"/Addcart",t)}editactiveCart(t){return this.http.post(this.path+"/EditCart",t)}deleteItem(t){return this.http.post(this.path+`/Deletecart/${t.Id}`,null)}viewCart(t){return console.log(t.Id),this.http.get(this.path+`/ViewCart/${t.Id}`)}editCart(t,e){return console.log(t.Id,e.Id),this.http.post(this.path+`/EditCart/${t.Id}/${e.Id}`,null)}couponValidation(t){return this.http.post(this.path+"/couponValidation",t)}verifyActivationKey(t,e,s){return console.log(t,e),this.http.get(this.path+`/VerifyActKey/${e}/${t}/${s}`)}sendPasswordLink(t){let e=(new a.e).set("email",t);return this.http.get(this.path+"/PasswordLink",{params:e})}assignKey(t){return this.http.post(this.path+"/AssignKey",t)}verifyUser(t){return this.http.post(this.path+`/VerifyUserByEmail/${t}`,null)}learnerKeys(t){return this.http.post(this.path+`/learnerKeys/${t}`,null)}verifyCode(t){return this.http.post(this.path+"/verificationCode",t)}socialLearner(t){return this.http.post(this.path+"/LearnerSocial",t)}getCountry(){return this.http.get("https://ipapi.co/json")}getToken(){return JSON.parse(localStorage.getItem("token"))}addRefer(t){return this.http.post(this.path+"/AddRefer",t)}stripe(t){return this.http.post(this.path+"/StripePay",t)}myprogram(t){return this.http.get(this.path+`/myPrograms/${t}`)}sendinvite(t){return this.http.post(this.path+"/AssignKey",t)}uploaderAvatar(t){return this.http.post(this.path+"/UploadAvatar",t)}getuser(t){return this.http.get(this.path+`/Users/${t}`)}updateUser(t){return this.http.post(this.path+"/AddUser",t)}getpaymentdetail(t){return this.http.get(this.path+`/GetPaymentDetails/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(a.c),i.Wb(a.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"sw/a":function(t,e,s){"use strict";s.r(e),s.d(e,"ChangePasswordPageModule",function(){return m});var o=s("ofXK"),a=s("3Pt+"),i=s("TEn/"),r=s("tyNb"),l=s("ahC7"),n=s("fXoL"),c=s("+bfl");function g(t,e){1&t&&(n.Sb(0,"div",37),n.Dc(1," Passwords do not match "),n.Rb())}const h=[{path:"",component:(()=>{class t{constructor(t,e,s,o){this.router=t,this.service=e,this.authService=s,this.activate=o,this.successPassword=0,this.showWarning=!1,this.showAlert=!1,this.activate.queryParams.subscribe(t=>{this.urlEmail=t.email,console.log("urlEmail",this.urlEmail)})}ngOnInit(){}forgotPassword(){if(this.showWarning=!1,this.password!=this.confirmPassword||this.oldpassword!=localStorage.getItem("pswd"))this.oldpassword!=localStorage.getItem("pswd")?window.alert("Old password you have entered is incorrect"):window.alert("Confirm & New Password do not match");else{let t=JSON.parse(localStorage.getItem("userId"));localStorage.getItem("email"),this.service.setPassword({UserID:t,Pwd:this.password}).subscribe(e=>{console.log(e);let s=JSON.parse(localStorage.getItem("RoleID")),o=localStorage.getItem("emailCode");e.toLocaleLowerCase().match("your password has been reset.")&&(localStorage.setItem("pswd",this.password),8===s&&"T"===o?(localStorage.setItem("emailCode","F"),window.location.href=`https://humanwisdom.me/Admin/#/frameworks/affiliate-s01-a/${t}`):(this.successPassword=1,localStorage.setItem("emailCode","F"),sessionStorage.setItem("successPassword",JSON.stringify(this.successPassword)),this.router.navigate(["/onboarding/login"])),window.alert("Your password has been reset."))})}}googleLogin(){this.authService.signIn(l.b.PROVIDER_ID),this.authService.authState.subscribe(t=>{this.user=t,this.idToken=t.idToken,this.socialFirstName=t.firstName,this.socialLastName=t.lastName,this.socialEmail=t.email,console.log(t),this.service.verifyGoogle(this.idToken).subscribe(t=>{t&&this.service.socialLearner({FnName:this.socialFirstName,LName:this.socialLastName,Email:this.socialEmail}).subscribe(t=>{let e=t;if(console.log(e),localStorage.setItem("guest","F"),localStorage.setItem("remember","T"),localStorage.setItem("socialLogin","T"),localStorage.setItem("btnclick","F"),localStorage.setItem("loginResponse",JSON.stringify(e)),sessionStorage.setItem("loginResponse",JSON.stringify(e)),localStorage.setItem("token",JSON.stringify(e.access_token)),localStorage.setItem("Subscriber",e.Subscriber),localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("email",this.socialEmail),localStorage.setItem("FnName",this.socialFirstName),localStorage.setItem("RoleID",JSON.stringify(t.RoleID)),localStorage.setItem("LName",this.socialLastName),localStorage.setItem("pswd",""),localStorage.setItem("name",e.Name),localStorage.setItem("first","T"),0==parseInt(e.UserId))this.showAlert=!0,window.alert("You have entered wrong credentials. Please try again."),this.email="",this.password="";else{this.showAlert=!1;let t=!1;this.userId=e.UserId;let s=e.Name;localStorage.setItem("loginResponse",JSON.stringify(e)),sessionStorage.setItem("loginResponse",JSON.stringify(e)),localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("token",JSON.stringify(e.access_token)),console.log(localStorage.getItem("token"),"this is local token"),t?(localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("userEmail",JSON.stringify(this.socialEmail)),localStorage.setItem("userName",JSON.stringify(s))):(sessionStorage.setItem("userId",JSON.stringify(this.userId)),sessionStorage.setItem("userEmail",JSON.stringify(this.socialEmail)),sessionStorage.setItem("userName",JSON.stringify(s)));let o=localStorage.getItem("activeCode"),a=localStorage.getItem("subscribepage");"T"===o||"T"===a?(localStorage.setItem("isloggedin","T"),"T"===o&&localStorage.setItem("activeCode","F"),"T"===a&&localStorage.setItem("subscribepage","F"),this.router.navigate(["/onboarding/add-to-cart"])):(localStorage.setItem("isloggedin","T"),this.router.navigate(["/adults/adult-dashboard"]))}})})},t=>console.log(t),()=>{})}fbLogin(){this.authService.signIn(l.a.PROVIDER_ID),this.authService.authState.subscribe(t=>{console.log(t),this.user=t,this.idToken=t.authToken,this.socialFirstName=t.firstName,this.socialLastName=t.lastName,this.socialEmail=t.email,void 0!==t.email?this.service.verifyFb(this.idToken).subscribe(t=>{t&&this.service.socialLearner({FName:this.socialFirstName,LName:this.socialLastName,Email:this.socialEmail}).subscribe(t=>{let e=t;if(console.log(e),localStorage.setItem("socialLogin","T"),localStorage.setItem("remember","T"),localStorage.setItem("guest","F"),localStorage.setItem("btnclick","F"),localStorage.setItem("FnName",this.socialFirstName),localStorage.setItem("LName",this.socialLastName),localStorage.setItem("loginResponse",JSON.stringify(e)),sessionStorage.setItem("loginResponse",JSON.stringify(e)),localStorage.setItem("token",JSON.stringify(e.access_token)),localStorage.setItem("Subscriber",e.Subscriber),localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("RoleID",JSON.stringify(t.RoleID)),localStorage.setItem("email",this.socialEmail),localStorage.setItem("pswd",""),localStorage.setItem("name",e.Name),localStorage.setItem("first","T"),0==parseInt(e.UserId))this.showAlert=!0,window.alert("You have entered wrong credentials. Please try again."),this.email="",this.password="";else{this.showAlert=!1;let t=!1;this.userId=e.UserId;let s=e.Name;localStorage.setItem("loginResponse",JSON.stringify(e)),sessionStorage.setItem("loginResponse",JSON.stringify(e)),localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("token",JSON.stringify(e.access_token)),console.log(localStorage.getItem("token"),"this is local token"),t?(localStorage.setItem("userId",JSON.stringify(this.userId)),localStorage.setItem("userEmail",JSON.stringify(this.socialEmail)),localStorage.setItem("userName",JSON.stringify(s))):(sessionStorage.setItem("userId",JSON.stringify(this.userId)),sessionStorage.setItem("userEmail",JSON.stringify(this.socialEmail)),sessionStorage.setItem("userName",JSON.stringify(s)));let o=JSON.parse(localStorage.getItem("RoleID")),a=localStorage.getItem("emailCode"),i=localStorage.getItem("activeCode"),r=localStorage.getItem("subscribepage");"T"===i||"T"===r?(localStorage.setItem("isloggedin","T"),"T"===i&&localStorage.setItem("activeCode","F"),"T"===r&&localStorage.setItem("subscribepage","F"),8===o&&"T"===a?(localStorage.setItem("isloggedin","T"),this.router.navigate(["/onboarding/set-password"])):this.router.navigate(["/onboarding/add-to-cart"])):8===o&&"T"===a?(localStorage.setItem("isloggedin","T"),this.router.navigate(["/onboarding/set-password"])):(localStorage.setItem("isloggedin","T"),this.router.navigate(["/adults/adult-dashboard"]))}})}):window.alert("Please ensure that you use an email based authentication with your Auth provider or try another method")})}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(r.g),n.Nb(c.a),n.Nb(l.c),n.Nb(r.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-change-password"]],decls:56,vars:4,consts:[["role","main",1,"right_col","ml0","bg_login_signup"],[1,"cw100p","cw100_01"],[1,"row","center_flex","mrl0px"],[1,"col-md-6","col-sm-8","col-xs-12","p0"],[1,"x_panel"],[1,"x_content","c_white","fwunset","mt0px"],[1,"container"],[1,"nav","nav-tabs","login_signup_tab","flex_ai"],[1,"active","w100_important"],["data-toggle","tab","href","#tab1"],[1,"tab-content","mt40px"],["id","tab1",1,"tab-pane","fade","in","active"],[1,"row","mt15px"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],["for","pass",1,"txt189"],["type","password","id","passs","name","pass","required","",1,"form-control","cfc8",3,"ngModel","ngModelChange"],["for","cp",1,"txt189"],["type","password","id","cpwd","name","cp",1,"form-control","cfc8",3,"ngModel","ngModelChange"],[1,"row","mt20px"],["type","submit",1,"btn","btn-warning","w100","btn_login_signup",3,"click"],["class","white alert alert-danger w100",4,"ngIf"],[1,"ls_pagebreak"],[1,"ls_position"],[1,"prelative"],[1,"row","mt20px","ls-row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p0"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/images/background/login_signup/footer.png",1,"img-responsive","ls_footer_img"],[1,"row","absolute_center_ls_footer"],[1,"row","mt20px","center_flex"],[1,"col-lg-6","col-md-6","col-sm-8","col-xs-12"],[1,"txt191"],[1,"row","mt15px","center_flex"],[1,"col-lg-6","col-md-6","col-sm-8","col-xs-12","p0"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6"],["type","submit",1,"btn","btn-warning","w100","btn_login_signup","tcenter",3,"click"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/images/icons/facebook_ls.png","alt","",1,"img-responsive"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/images/icons/google_ls.png","alt","",1,"img-responsive"],[1,"white","alert","alert-danger","w100"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"div",5),n.Sb(6,"form"),n.Sb(7,"div",6),n.Sb(8,"ul",7),n.Sb(9,"li",8),n.Sb(10,"a",9),n.Dc(11," Change Password "),n.Rb(),n.Rb(),n.Rb(),n.Sb(12,"div",10),n.Sb(13,"div",11),n.Sb(14,"div",12),n.Sb(15,"div",13),n.Sb(16,"label",14),n.Dc(17,"Old Password*"),n.Rb(),n.Sb(18,"input",15),n.ac("ngModelChange",function(t){return e.oldpassword=t}),n.Rb(),n.Rb(),n.Rb(),n.Sb(19,"div",12),n.Sb(20,"div",13),n.Sb(21,"label",14),n.Dc(22,"New Password*"),n.Rb(),n.Sb(23,"input",15),n.ac("ngModelChange",function(t){return e.password=t}),n.Rb(),n.Rb(),n.Rb(),n.Sb(24,"div",12),n.Sb(25,"div",13),n.Sb(26,"label",16),n.Dc(27,"Confirm Password*"),n.Rb(),n.Sb(28,"input",17),n.ac("ngModelChange",function(t){return e.confirmPassword=t}),n.Rb(),n.Rb(),n.Rb(),n.Sb(29,"div",18),n.Sb(30,"div",13),n.Sb(31,"button",19),n.ac("click",function(){return e.forgotPassword()}),n.Dc(32,"Submit"),n.Rb(),n.Rb(),n.Rb(),n.Ob(33,"br"),n.Ob(34,"br"),n.Bc(35,g,2,0,"div",20),n.Rb(),n.Rb(),n.Rb(),n.Ob(36,"div",21),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(37,"div",22),n.Sb(38,"div",23),n.Sb(39,"div",24),n.Sb(40,"div",25),n.Ob(41,"img",26),n.Rb(),n.Rb(),n.Sb(42,"div",27),n.Sb(43,"div",13),n.Sb(44,"div",28),n.Sb(45,"div",29),n.Sb(46,"h4",30),n.Dc(47," OR CONNECT WITH "),n.Rb(),n.Rb(),n.Rb(),n.Sb(48,"div",31),n.Sb(49,"div",32),n.Sb(50,"div",33),n.Sb(51,"button",34),n.ac("click",function(){return e.fbLogin()}),n.Ob(52,"img",35),n.Rb(),n.Rb(),n.Sb(53,"div",33),n.Sb(54,"button",34),n.ac("click",function(){return e.googleLogin()}),n.Ob(55,"img",36),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Ab(18),n.lc("ngModel",e.oldpassword),n.Ab(5),n.lc("ngModel",e.password),n.Ab(5),n.lc("ngModel",e.confirmPassword),n.Ab(7),n.lc("ngIf",e.showWarning))},directives:[a.t,a.k,a.l,a.b,a.q,a.j,a.m,o.l],styles:[""]}),t})()}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({imports:[[r.k.forChild(h)],r.k]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({imports:[[o.c,a.f,i.e,d]]}),t})()}}]);